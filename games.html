<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Your Game to Bet On</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f4f9;
            padding: 20px;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-top: 20px;
        }
        .game-card {
            width: 30%;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            margin-bottom: 20px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .game-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        .game-card h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        .game-card p {
            font-size: 16px;
            color: #555;
        }
        .game-card .bet-now-btn {
            margin-top: 10px;
            padding: 10px;
            background-color: #800000; /* Maroon */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .game-card .bet-now-btn:hover {
            background-color: #555;
        }

        /* Admin Game Creation Form */
        .create-game-container {
            display: none; /* Initially hidden */
            text-align: center;
            margin-top: 20px;
        }

        .create-game-container input, .create-game-container select {
            margin: 10px;
            padding: 10px;
            font-size: 16px;
        }

        .create-game-container button {
            padding: 12px 20px;
            font-size: 16px;
            background-color: #800000;
            color: #FFD700;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .create-game-container button:hover {
            background-color: #FFB900;
        }

        /* Arrow Styles */
        .arrow {
            position: fixed;
            top: 20px;
            right: 20px;
            font-size: 30px;
            color: #FFD700; /* Gold */
            cursor: pointer;
            display: none; /* Initially hidden */
        }

        /* Back Arrow Styles */
        .back-arrow {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 30px;
            color: #FFD700; /* Gold */
            cursor: pointer;
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body>

<h1>Select Your Game to Bet On</h1>

<!-- Admin Check -->
<script>
    const specialCode = prompt("Enter special code to access admin features:");
    let isAdmin = false;

    if (specialCode === "2273") {
        isAdmin = true;
        localStorage.setItem('isAdmin', 'true');
    } else {
        localStorage.setItem('isAdmin', 'false');
    }

    // If admin, display the game creation form
    if (isAdmin || localStorage.getItem('isAdmin') === 'true') {
        document.getElementById('createGameContainer').style.display = 'block';
    }
</script>

<!-- Game List -->
<div class="container" id="gameContainer">
    <!-- Games will be dynamically loaded here -->
</div>

<!-- Admin Game Creation Form -->
<div class="create-game-container" id="createGameContainer">
    <h2>Create a New Game</h2>
    <input type="text" id="school1" placeholder="Enter first school" />
    <input type="text" id="school2" placeholder="Enter second school" />
    <input type="text" id="sport" placeholder="Enter sport (e.g., Football)" />
    <input type="datetime-local" id="gameTime" />
    <button onclick="publishNewGame()">Publish Game</button>
</div>

<!-- Arrow Element -->
<div class="arrow" id="arrow" onclick="arrowClick()">➡</div>

<!-- Back Arrow Element -->
<div class="back-arrow" id="backArrow" onclick="backArrowClick()">⬅</div>

<script>
    let selectedLogo = '';

    // Function to create a new game (admin only)
    function publishNewGame() {
        const school1 = document.getElementById('school1').value;
        const school2 = document.getElementById('school2').value;
        const sport = document.getElementById('sport').value;
        const gameTime = document.getElementById('gameTime').value;

        if (school1 && school2 && sport && gameTime) {
            const newGame = { school1, school2, sport, time: gameTime };

            // Save new game to localStorage
            let games = JSON.parse(localStorage.getItem('games')) || [];
            games.push(newGame);
            localStorage.setItem('games', JSON.stringify(games));

            alert('New game published!');

            // Refresh the game list
            populateGameList(games);
        } else {
            alert('Please fill in all fields.');
        }
    }

    // Function to populate the list of games from localStorage
    function populateGameList(games) {
        const container = document.getElementById('gameContainer');
        container.innerHTML = ''; // Clear existing games

        if (games.length === 0) {
            container.innerHTML = '<p>No games available yet.</p>';
        }

        games.forEach(game => {
            const gameCard = document.createElement('div');
            gameCard.classList.add('game-card');
            gameCard.innerHTML = `
                <h3>${game.school1} vs ${game.school2}</h3>
                <p>${game.sport} - ${new Date(game.time).toLocaleString()}</p>
                <button class="bet-now-btn" onclick="placeBet('${game.school1} vs ${game.school2}')">Bet Now</button>
            `;
            container.appendChild(gameCard);
        });
    }

    // Function to place a bet
    function placeBet(game) {
        alert("You selected the game: " + game + ". Redirecting to the betting page.");
        window.location.href = "bets.html";
    }

    // Arrow click function (Redirect to bets.html page)
    function arrowClick() {
        window.location.href = "bets.html";  // Redirect to bets.html
    }

    // Back Arrow click function (Go back to the previous page)
    function backArrowClick() {
        window.history.back();  // Go back to the previous page
    }

    // Load games from localStorage on page load
    window.onload = function() {
        const games = JSON.parse(localStorage.getItem('games')) || [];
        populateGameList(games);
    };
</script>

</body>
</html>
